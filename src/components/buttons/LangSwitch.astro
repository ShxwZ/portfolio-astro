---
import ButtonContainer from "./ButtonContainer.astro";

const isEnglish = Astro.currentLocale === "en";
---

<ButtonContainer classesInside="bg-[--bg-color]">
  <div
    onclick="playSound()"
    class="cursor-pointer bg-[--bg-color] flex items-center justify-center w-full h-full text-center"
  >
    <label id="idiomas" for="langs" class="text-[0px]">Idioma</label>
    <select
      id="langs"
      aria-labelledby="idiomas"
      class="px-4 text-start disabled:opacity-50 disabled:pointer-events-none bg-[--bg-color] border-[--border-color] dark:text-gray-400"
    >
      <option lang="es">Espa√±ol</option>
      <option selected={isEnglish} lang="en">English</option>
    </select>
  </div>
</ButtonContainer>
<script is:inline>
  function getOptionSelected() {
    const select = document.getElementById("langs");

    if (select.options[select.selectedIndex].lang === "es") {
      window.location.href = window.location.href.replace("/en", "");
    } else {
      window.location.href =
        "/en" + window.location.href.replace(window.location.origin, "");
    }
  }

  // handle click on select option
  document
    .getElementById("langs")
    .addEventListener("change", getOptionSelected);
</script>
